<div class="container mx-auto px-4 py-6 mt-14 min-h-screen">
    <div class="page-header flex justify-between items-center mb-6">
        <h1 class="text-3xl font-semibold">Nueva Solicitud de Reparación</h1>
    </div>

    <div class="card bg-white p-6 rounded-lg shadow-md">
        <form method="POST" action="/repairs/new" class="grid grid-cols-1 md:grid-cols-2 gap-6">

            <!-- Equipo -->
            <div>
                <label for="id_equipo" class="block text-sm font-semibold text-gray-700 mb-1">Equipo</label>
                <select id="id_equipo" name="id_equipo"
                    class="w-full border px-3 py-2 border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm">
                    <option value="">Seleccionar equipo...</option>
                    <% equipos.forEach(equipo => { %>
                        <option value="<%= equipo.id_equipo %>">
                            <%= equipo.tipo %> - <%= equipo.marca %> <%= equipo.modelo %> (<%= equipo.serie %>)
                        </option>
                    <% }); %>
                </select>
            </div>

            <!-- Técnico -->
            <div>
                <label for="id_tecnico" class="block text-sm font-semibold text-gray-700 mb-1">Técnico Asignado</label>
                <select id="id_tecnico" name="id_tecnico"
                    class="w-full border px-3 py-2 border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm">
                    <option value="">Seleccionar técnico...</option>
                    <% tecnicos.forEach(tecnico => { %>
                        <option value="<%= tecnico.id_usuario %>"><%= tecnico.nombre %></option>
                    <% }); %>
                </select>
            </div>

            <!-- Prioridad -->
            <div>
                <label for="prioridad" class="block text-sm font-semibold text-gray-700 mb-1">Prioridad</label>
                <select id="prioridad" name="prioridad"
                    class="w-full border px-3 py-2 border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm">
                    <option value="baja">Baja</option>
                    <option value="media">Media</option>
                    <option value="alta">Alta</option>
                </select>
            </div>

            <!-- Estado -->
            <div>
                <label for="estado" class="block text-sm font-semibold text-gray-700 mb-1">Estado</label>
                <select id="estado" name="estado"
                    class="w-full border px-3 py-2 border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm">
                    <option value="En revisión">En revisión</option>
                    <option value="En reparación">En reparación</option>
                    <option value="Reparado">Reparado</option>
                    <option value="Descartado">Descartado</option>
                </select>
            </div>

            <!-- Descripción del problema -->
            <div class="md:col-span-2">
                <label for="descripcion_problema" class="block text-sm font-semibold text-gray-700 mb-1">Descripción del Problema</label>
                <textarea id="descripcion_problema" name="descripcion_problema" rows="4"
                    class="w-full border px-3 py-2 border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"
                    placeholder="Describe el problema del equipo..."></textarea>
            </div>

            <!-- Botones -->
            <div class="md:col-span-2 flex justify-end gap-3 pt-4">
                <button type="button" onclick="history.back()"
                    class="px-4 py-2 bg-gray-400 text-white rounded-md hover:bg-gray-200 transition-colors">
                    Cancelar
                </button>
                <button type="submit"
                    class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors">
                    Crear Solicitud
                </button>
            </div>
        </form>
    </div>
</div>
